---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Hero from "../components/hero.astro";


const posts = await Astro.glob('../posts/*.mdx');
---
<Layout title="Astro Blog">
    <Hero heading="Astro Blog" text="a simple blog built with Astro" />
    <section class="page-content">
        <div class="container">
            {
                posts.map(post=>(
                    <Card>
                        <h3>{post.frontmatter.title}</h3>
                        <div>
                        Written by <strong>{post.frontmatter.author} </strong> on {new Date(post.frontmatter.date).toLocaleDateString()}
                        </div>
                        <p>{post.frontmatter.excerpt}</p>
                        <a href={`/${post.frontmatter.slug}`} class="btn">Read More</a>
                    </Card>
                ))
            }
        </div>
    </section>
</Layout>